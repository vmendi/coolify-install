{
    "$schema": "https://app.flightcontrol.dev/schema.json",
    "environments": [
        {
            "id": "coolify-install",
            "name": "coolify-install",
            "region": "us-east-1",
            "source": {
                "pr": false,
                "branch": "main",
                "trigger": "push"
            },
            "services": [
                {
                    "id": "coolify-installer",
                    "name": "coolify-installer",
                    "type": "ec2",
                    "buildType": "nixpacks",
                    "instanceSize": "medium",
                    "sshAccess": true,
                    "rootDirectory": ".",
                    "healthCheckPath": "/",
                    "envVariables": {
                        "PORT": "8080"
                    },
                    "startCommand": "bash install-coolify.sh && tail -f /dev/null",
                    "port": 8080,
                    "ingressRules": [
                        {
                            "fromPort": 80,
                            "toPort": 80,
                            "protocol": "tcp",
                            "source": "0.0.0.0/0"
                        },
                        {
                            "fromPort": 443,
                            "toPort": 443,
                            "protocol": "tcp",
                            "source": "0.0.0.0/0"
                        },
                        {
                            "fromPort": 8080,
                            "toPort": 8080,
                            "protocol": "tcp",
                            "source": "0.0.0.0/0"
                        }
                    ]
                }
            ]
        }
    ]
}
